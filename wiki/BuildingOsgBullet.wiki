#summary How to build.

<wiki:toc />

= Dependencies =

osgBullet depends on !OpenSceneGraph, Bullet, and osgWorks. See the CompatibilityMatrix.

The osgBullet build system requires CMake v2.6.4 or later.

= Building =

Like !OpenSceneGraph, osgBullet uses CMake. To create project files for osgBullet, follow these general steps:
  * Run the CMake GUI or ccmake.
  * Specify a build directory, then hit Configure.
  * Hit Configure a second time (all variables must be clear, not red).
  * Hit Generate.

Be sure to set OSGBULLET_USE_DOUBLE_PRECISION if Bullet was built with double precision. If you build Bullet for double precision and osgBullet for single precision, osgBullet will report link errors.

Use your project files / makefiles to build osgWorks. Build the install target to install osgWorks on your system.

= Finding the OSG, Bullet, and osgWorks Dependencies=

The CMake system that comes with osgBullet is designed to automatically find OSG, Bullet, and osgWorks if they're installed on your system in a standard/typical location. If the CMake system fails to find any of these dependencies, it's usually for one of two reasons. Either the dependency is installed in a non-standard location, or you'd like to use the dependency  from a source tree.

If you have the dependency installed in a non-standard location, specify the top-level install directory with the appropriate `<dependency>_ROOT` variable: OSG_ROOT, BULLET_ROOT, or OSGWORKS_ROOT. Set the appropriate variable in the environment, or in CMake. Then select Configure again.

If you are using the dependency from a source tree, use the `<dependency>_BUILD_DIR` and `<dependency>_SOURCE_DIR` variables (either in the environment, or in CMake) to specify the root of the builf and source trees, respectively. Then select Configure again.

In summary:
  * If the dependency is in a standard location, you shouldn't need to set any variables. CMake should just find them.
  * Set *either* the appropriate `<dependency>_ROOT` variable (if installed in a non-standard location) *or both* the `<dependency>_BUILD_DIR` and `<dependency>_SOURCE_DIR` variables (if using the dependency from a source tree). You should never have to set all three.

= Finding Bullet with osgBullet's svn trunk (post-v1.1) =

Our local copy of !FindBullet.cmake has been deleted on svn trunk. To find Bullet, upgrade to CMake 2.8, which has its own !FindBullet.cmake script. This change has been discussed on the osgbullet-users Google Group:

http://groups.google.com/group/osgbullet-users/browse_frm/thread/f775382dac66df25

= Troubleshooting Builds =

osgBullet should build without error on all major platforms. If you encounter link errors, the most likely cause is a mismatch between the double precision setting in the CMake systems of osgBullet and Bullet. Please make sure both projects are configured and built consistently, either single or double precision.

= Installing osgBullet = 

Once you have built osgBullet it is possible to install osgBullet into a directory that will contain a bin, lib, and include directory with the 'install' target for GNUMake. The location of this directory can be set via the CMake variable CMAKE_INSTALL_PREFIX. After you have installed osgBullet, be sure to point your (DY)LD_LIBRARY_PATH at the lib directory and your PATH at the bin directory. This will enable your applications to load the appropriate osgBullet libraries and plugins.